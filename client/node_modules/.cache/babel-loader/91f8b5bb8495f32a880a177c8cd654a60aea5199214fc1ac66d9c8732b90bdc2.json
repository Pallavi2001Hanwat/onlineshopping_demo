{"ast":null,"code":"var _jsxFileName = \"D:\\\\onlineShopping\\\\client\\\\src\\\\Component\\\\CartItemPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./css/cartitempage.css\"; // Import your CSS file\nimport MainHeader from \"./MainHeader\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CartItemPage = () => {\n  _s();\n  const [cartItemList, setCartItemList] = useState([]);\n  const [filteredCartItems, setFilteredCartItems] = useState([]);\n  const [quantities, setQuantities] = useState({});\n  const [totalItems, setTotalItems] = useState(0);\n  const [itemQuantity, setItemQuantity] = useState(0);\n  const [itemPrice, setItemPrice] = useState(0);\n  const [itemSalePrice, setItemSalePrice] = useState(0);\n  const userId = localStorage.getItem(\"UserId\");\n  const navigate = useNavigate();\n  const FetchCartItemData = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8080/api/user/getCartItems\");\n      console.log(response.data.CartItems[0]);\n      if (response.status === 200) {\n        const cartItems = response.data.CartItems[0] || [];\n        console.log(cartItems);\n        // Initialize variables to calculate total values\n        let totalQuantity = 0;\n        let totalPrice = 0;\n        let totalSalePrice = 0;\n        cartItems.forEach(item => {\n          totalQuantity += item.Quantity;\n          totalPrice += parseInt(item.Price, 10) * item.Quantity;\n          if (item.SalePrice > 0) {\n            totalSalePrice += parseInt(item.SalePrice, 10) * item.Quantity;\n          }\n        });\n\n        // Set the values in state\n        setTotalItems(cartItems.length);\n        setItemQuantity(totalQuantity);\n        setItemPrice(totalPrice);\n        setItemSalePrice(totalSalePrice);\n\n        // Set the filtered cart items and quantities\n        setFilteredCartItems(cartItems);\n        const initialQuantities = {};\n        cartItems.forEach(item => {\n          initialQuantities[item.CartItemId] = item.Quantity;\n        });\n        setQuantities(initialQuantities);\n      }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n  const updateQuantityInDatabase = async (itemId, newQuantity) => {\n    try {\n      const response = await axios.put(`http://localhost:8080/api/user/updateCartItemQuantity`, {\n        id: itemId,\n        Quantity: newQuantity\n      });\n      console.log(\"Update quantity response:\", response);\n      if (response.status === 200) {\n        // Update the local state after a successful API call\n        setQuantities(prevQuantities => ({\n          ...prevQuantities,\n          [itemId]: newQuantity\n        }));\n        FetchCartItemData();\n      }\n    } catch (error) {\n      console.error(\"Error updating quantity:\", error);\n    }\n  };\n  const handleRemove = async id => {\n    try {\n      console.log(\"Removing item with id:\", id);\n      const response = await axios.delete(`http://localhost:8080/api/user/RemoveCartItems`, {\n        data: {\n          id\n        }\n      });\n      console.log(\"Delete response:\", response);\n      if (response.status === 200) {\n        alert(response.data.message);\n        setCartItemList(prevItems => prevItems.filter(item => item.CartItemId !== id));\n        // Remove quantity from the state when an item is removed\n        setQuantities(prevQuantities => {\n          const updatedQuantities = {\n            ...prevQuantities\n          };\n          delete updatedQuantities[id];\n          return updatedQuantities;\n        });\n        FetchCartItemData();\n      }\n    } catch (error) {\n      console.error(\"Error removing item:\", error);\n    }\n  };\n  const handleQuantityChange = async (itemId, event) => {\n    const newQuantity = parseInt(event.target.value, 10);\n    // Update the quantity in the database and local state\n    await updateQuantityInDatabase(itemId, newQuantity);\n  };\n  const handleQuantityDecrement = async itemId => {\n    const currentQuantity = quantities[itemId] || 1;\n    const newQuantity = Math.max(currentQuantity - 1, 0);\n    // Update the quantity in the database and local state\n    await updateQuantityInDatabase(itemId, newQuantity);\n  };\n  const handleQuantityIncrement = async itemId => {\n    const currentQuantity = quantities[itemId] || 0;\n    const newQuantity = currentQuantity + 1;\n    // Update the quantity in the database and local state\n    await updateQuantityInDatabase(itemId, newQuantity);\n  };\n  const handleCheckout = async () => {\n    debugger;\n    var TotalAmount = itemPrice - itemSalePrice;\n    var userId = JSON.parse(localStorage.getItem('UserId'));\n    var currentDate = new Date();\n    var InvoiceDate = currentDate.toISOString().split('T')[0];\n    console.log(TotalAmount, userId, InvoiceDate);\n    var response = await axios.post('http://localhost:8080/api/user/invoice', {\n      userId,\n      TotalAmount,\n      InvoiceDate\n    });\n    console.log(\"response is\", response);\n    if (response) {\n      alert(\"payment Successful\");\n      const response = await axios.delete(`http://localhost:8080/api/user/RemoveAllCartItems`, {\n        data: {\n          userId\n        }\n      });\n      if (response.status === 200) {\n        navigate('/completeorder');\n      }\n    }\n  };\n  const handleContinueShopping = () => {\n    navigate('/Product');\n  };\n  useEffect(() => {\n    FetchCartItemData();\n  }, []);\n  useEffect(() => {\n    setFilteredCartItems(cartItemList.filter(item => item.userId === parseInt(userId)));\n  }, [userId, cartItemList]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(MainHeader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mt-md-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Navmaincontain d-flex \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600,\n                fontSize: '21px',\n                textAlign: 'right'\n              },\n              children: [\"Total Cart Item: \", filteredCartItems.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"button\",\n                onClick: handleContinueShopping,\n                children: \"Continue Shopping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white mt-2 p-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" bg-white \",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"cart-table \",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Item\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: filteredCartItems.map((cartItem, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: cartItem.imageURL,\n                          alt: cartItem.name,\n                          className: \"item-image\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 215,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 214,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: cartItem.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 217,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            style: {\n                              textDecoration: cartItem.IsSale ? 'line-through' : 'none'\n                            },\n                            children: cartItem.IsSale ? /*#__PURE__*/_jsxDEV(\"span\", {\n                              style: {\n                                color: 'red',\n                                fontWeight: '600'\n                              },\n                              children: [\" Price: \", cartItem.Price]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 222,\n                              columnNumber: 33\n                            }, this) : `Price: ${cartItem.Price}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 220,\n                            columnNumber: 29\n                          }, this), cartItem.IsSale ? /*#__PURE__*/_jsxDEV(\"p\", {\n                            style: {\n                              color: 'green',\n                              fontWeight: '600'\n                            },\n                            children: [\"Sale Price: \", cartItem.Price / 2]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 229,\n                            columnNumber: 31\n                          }, this) : \"\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"button-container\",\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"Quantitybutton\",\n                            onClick: () => handleQuantityDecrement(cartItem.CartItemId),\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 235,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"QuantityInput\",\n                            children: /*#__PURE__*/_jsxDEV(\"input\", {\n                              type: \"number\",\n                              value: quantities[cartItem.CartItemId] || 0,\n                              onChange: e => handleQuantityChange(cartItem.CartItemId, e),\n                              name: \"Quantity\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 237,\n                              columnNumber: 31\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 236,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"Quantitybutton\",\n                            onClick: () => handleQuantityIncrement(cartItem.CartItemId),\n                            children: \"+\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 244,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 234,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: (cartItem.Quantity || 0) * (cartItem.IsSale ? cartItem.SalePrice : cartItem.Price)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 247,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleRemove(cartItem.CartItemId),\n                          className: \"button\",\n                          children: \"Remove\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 251,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: \"6\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"horizontal-line\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 259,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 23\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 21\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mt-md-1 d-flex\",\n          style: {\n            height: '470px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 bg-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 bg-white invoices p-3 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-5\",\n              style: {\n                padding: '0px 0px 54px 111px',\n                border: '1px solid'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"TotalItems:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: totalItems\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"TotalQuantity:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: itemQuantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"TotalItemPrice:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: itemPrice\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"TotalSalePrice:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"-\", itemSalePrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: itemPrice - itemSalePrice\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"button\",\n                  onClick: handleCheckout,\n                  children: \"Checkout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(CartItemPage, \"Ga4adSHr7L/0lgRRggGq0F/Fwbk=\", false, function () {\n  return [useNavigate];\n});\n_c = CartItemPage;\nexport default CartItemPage;\nvar _c;\n$RefreshReg$(_c, \"CartItemPage\");","map":{"version":3,"names":["React","useEffect","useState","axios","MainHeader","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","CartItemPage","_s","cartItemList","setCartItemList","filteredCartItems","setFilteredCartItems","quantities","setQuantities","totalItems","setTotalItems","itemQuantity","setItemQuantity","itemPrice","setItemPrice","itemSalePrice","setItemSalePrice","userId","localStorage","getItem","navigate","FetchCartItemData","response","get","console","log","data","CartItems","status","cartItems","totalQuantity","totalPrice","totalSalePrice","forEach","item","Quantity","parseInt","Price","SalePrice","length","initialQuantities","CartItemId","error","updateQuantityInDatabase","itemId","newQuantity","put","id","prevQuantities","handleRemove","delete","alert","message","prevItems","filter","updatedQuantities","handleQuantityChange","event","target","value","handleQuantityDecrement","currentQuantity","Math","max","handleQuantityIncrement","handleCheckout","TotalAmount","JSON","parse","currentDate","Date","InvoiceDate","toISOString","split","post","handleContinueShopping","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","fontWeight","fontSize","textAlign","onClick","map","cartItem","index","src","imageURL","alt","name","textDecoration","IsSale","color","type","onChange","e","colSpan","height","padding","border","_c","$RefreshReg$"],"sources":["D:/onlineShopping/client/src/Component/CartItemPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./css/cartitempage.css\"; // Import your CSS file\r\nimport MainHeader from \"./MainHeader\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst CartItemPage = () => {\r\n  const [cartItemList, setCartItemList] = useState([]);\r\n  const [filteredCartItems, setFilteredCartItems] = useState([]);\r\n  const [quantities, setQuantities] = useState({});\r\n  const [totalItems, setTotalItems] = useState(0);\r\n  const [itemQuantity, setItemQuantity] = useState(0);\r\n  const [itemPrice, setItemPrice] = useState(0);\r\n  const [itemSalePrice, setItemSalePrice] = useState(0);\r\n\r\n\r\n\r\n  const userId = localStorage.getItem(\"UserId\");\r\n  const navigate = useNavigate();\r\n\r\n  const FetchCartItemData = async () => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:8080/api/user/getCartItems\");\r\n      console.log(response.data.CartItems[0]);\r\n      if (response.status === 200) {\r\n        const cartItems = response.data.CartItems[0] || [];\r\n        console.log(cartItems)\r\n        // Initialize variables to calculate total values\r\n        let totalQuantity = 0;\r\n        let totalPrice = 0;\r\n        let totalSalePrice = 0;\r\n\r\n\r\n        cartItems.forEach(item => {\r\n          totalQuantity += item.Quantity;\r\n          totalPrice += parseInt(item.Price, 10) * item.Quantity;\r\n          if (item.SalePrice > 0) {\r\n            totalSalePrice += parseInt(item.SalePrice, 10) * item.Quantity;\r\n\r\n          }\r\n\r\n\r\n        });\r\n\r\n        // Set the values in state\r\n        setTotalItems(cartItems.length);\r\n        setItemQuantity(totalQuantity);\r\n        setItemPrice(totalPrice);\r\n        setItemSalePrice(totalSalePrice);\r\n\r\n\r\n        // Set the filtered cart items and quantities\r\n        setFilteredCartItems(cartItems);\r\n        const initialQuantities = {};\r\n        cartItems.forEach(item => {\r\n          initialQuantities[item.CartItemId] = item.Quantity;\r\n        });\r\n        setQuantities(initialQuantities);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n\r\n  const updateQuantityInDatabase = async (itemId, newQuantity) => {\r\n    try {\r\n      const response = await axios.put(`http://localhost:8080/api/user/updateCartItemQuantity`, {\r\n        id: itemId,\r\n        Quantity: newQuantity,\r\n      });\r\n\r\n      console.log(\"Update quantity response:\", response);\r\n\r\n      if (response.status === 200) {\r\n        // Update the local state after a successful API call\r\n        setQuantities((prevQuantities) => ({\r\n          ...prevQuantities,\r\n          [itemId]: newQuantity,\r\n        }));\r\n        FetchCartItemData();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating quantity:\", error);\r\n    }\r\n  };\r\n\r\n  const handleRemove = async (id) => {\r\n    try {\r\n      console.log(\"Removing item with id:\", id);\r\n\r\n      const response = await axios.delete(`http://localhost:8080/api/user/RemoveCartItems`, {\r\n        data: { id },\r\n      });\r\n\r\n      console.log(\"Delete response:\", response);\r\n\r\n      if (response.status === 200) {\r\n        alert(response.data.message);\r\n\r\n        setCartItemList((prevItems) => prevItems.filter((item) => item.CartItemId !== id));\r\n        // Remove quantity from the state when an item is removed\r\n        setQuantities((prevQuantities) => {\r\n          const updatedQuantities = { ...prevQuantities };\r\n          delete updatedQuantities[id];\r\n          return updatedQuantities;\r\n        });\r\n        FetchCartItemData();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error removing item:\", error);\r\n    }\r\n  };\r\n\r\n  const handleQuantityChange = async (itemId, event) => {\r\n    const newQuantity = parseInt(event.target.value, 10);\r\n    // Update the quantity in the database and local state\r\n    await updateQuantityInDatabase(itemId, newQuantity);\r\n  };\r\n\r\n  const handleQuantityDecrement = async (itemId) => {\r\n    const currentQuantity = quantities[itemId] || 1;\r\n    const newQuantity = Math.max(currentQuantity - 1, 0);\r\n    // Update the quantity in the database and local state\r\n    await updateQuantityInDatabase(itemId, newQuantity);\r\n  };\r\n\r\n  const handleQuantityIncrement = async (itemId) => {\r\n    const currentQuantity = quantities[itemId] || 0;\r\n    const newQuantity = currentQuantity + 1;\r\n    // Update the quantity in the database and local state\r\n    await updateQuantityInDatabase(itemId, newQuantity);\r\n  };\r\n\r\n  const handleCheckout = async () => {\r\n    debugger;\r\n    var TotalAmount = itemPrice - itemSalePrice;\r\n    var userId = JSON.parse(localStorage.getItem('UserId'));\r\n    var currentDate = new Date();\r\n    var InvoiceDate = currentDate.toISOString().split('T')[0];\r\n\r\n    console.log(TotalAmount, userId, InvoiceDate)\r\n    var response = await axios.post('http://localhost:8080/api/user/invoice', { userId, TotalAmount, InvoiceDate })\r\n    console.log(\"response is\", response)\r\n    if (response) {\r\n      alert(\"payment Successful\")\r\n\r\n      const response = await axios.delete(`http://localhost:8080/api/user/RemoveAllCartItems`, {\r\n        data: { userId },\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        navigate('/completeorder');\r\n      }\r\n\r\n\r\n\r\n    }\r\n  };\r\n\r\n  const handleContinueShopping = () => {\r\n    navigate('/Product');\r\n  };\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    FetchCartItemData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setFilteredCartItems(cartItemList.filter((item) => item.userId === parseInt(userId)));\r\n  }, [userId, cartItemList]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <MainHeader />\r\n          </div>\r\n\r\n          <div className=\"col-md-12 mt-md-5\">\r\n            <div className='Navmaincontain d-flex '>\r\n              <div style={{ fontWeight: 600, fontSize: '21px', textAlign: 'right' }}>\r\n                Total Cart Item: {filteredCartItems.length}\r\n              </div>\r\n              <div>\r\n                <button className='button' onClick={handleContinueShopping}>\r\n                  Continue Shopping\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-12\">\r\n            <div className=\"bg-white mt-2 p-2\">\r\n              <div className=\" bg-white \">\r\n              <table className=\"cart-table \">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Item</th>\r\n                    <th>Name</th>\r\n                    <th>Price</th>\r\n                    <th>Quantity</th>\r\n                    <th>Total</th>\r\n                    <th>Remove</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredCartItems.map((cartItem, index) => (\r\n                    <React.Fragment key={index}>\r\n                      <tr>\r\n                        <td>\r\n                          <img src={cartItem.imageURL} alt={cartItem.name} className=\"item-image\" />\r\n                        </td>\r\n                        <td>{cartItem.name}</td>\r\n                        <td>\r\n                          <div>\r\n                            <p style={{ textDecoration: cartItem.IsSale ? 'line-through' : 'none' }}>\r\n                              {cartItem.IsSale ? (\r\n                                <span style={{ color: 'red', fontWeight: '600' }}> Price: {cartItem.Price}</span>\r\n\r\n                              ) : (\r\n                                `Price: ${cartItem.Price}`\r\n                              )}\r\n                            </p>\r\n                            {cartItem.IsSale ? (\r\n                              <p style={{ color: 'green', fontWeight: '600' }}>Sale Price: {cartItem.Price / 2}</p>\r\n                            ) : \"\"}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"button-container\">\r\n                            <button className='Quantitybutton' onClick={() => handleQuantityDecrement(cartItem.CartItemId)}>-</button>\r\n                            <span className='QuantityInput'>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={quantities[cartItem.CartItemId] || 0}\r\n                                onChange={(e) => handleQuantityChange(cartItem.CartItemId, e)}\r\n                                name=\"Quantity\"\r\n                              />\r\n                            </span>\r\n                            <button className='Quantitybutton' onClick={() => handleQuantityIncrement(cartItem.CartItemId)}>+</button>\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          {(cartItem.Quantity || 0) * (cartItem.IsSale ? cartItem.SalePrice : cartItem.Price)}\r\n                        </td>\r\n                        <td>\r\n                          <button onClick={() => handleRemove(cartItem.CartItemId)} className=\"button\">\r\n                            Remove\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                      {/* Add a horizontal line after every row */}\r\n                      <tr>\r\n                        <td colSpan=\"6\">\r\n                          <div className=\"horizontal-line\"></div>\r\n                        </td>\r\n                      </tr>\r\n                    </React.Fragment>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n              </div>\r\n           \r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-12 mt-md-1 d-flex\" style={{ height: '470px' }}>\r\n            <div className=\"col-md-6 bg-white\"></div>\r\n            <div className=\"col-md-6 bg-white invoices p-3 \">\r\n              <div className=\"mt-5\" style={   { padding: '0px 0px 54px 111px' ,border: '1px solid'}}>\r\n                <div className=\"pt-5\">\r\n                  <b>TotalItems:</b>\r\n                  <span>{totalItems}</span>\r\n                </div>\r\n                <div className=\"pt-3\">\r\n                  <b>TotalQuantity:</b>\r\n                  <span>{itemQuantity}</span>\r\n                </div>\r\n                <div className=\"pt-3\">\r\n                  <b>TotalItemPrice:</b>\r\n                  <span>{itemPrice}</span>\r\n                </div>\r\n\r\n                <div className=\"pt-3\">\r\n                  <b>TotalSalePrice:</b>\r\n                  <span>-{itemSalePrice}</span>\r\n                </div>\r\n                <div className=\"pt-3\">\r\n                  <b>Total:</b>\r\n                  <span>{itemPrice - itemSalePrice}</span>\r\n                </div>\r\n                <div className=\"pt-3\">\r\n                  <button className=\"button\" onClick={handleCheckout}>Checkout</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartItemPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}